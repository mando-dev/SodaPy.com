(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(8783)}])},8783:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSG:function(){return b},default:function(){return g}});var r=s(5893),a=s(8149),i=s.n(a),n=s(7294);let o={_origin:"https://api.emailjs.com"},l=(e,t,s)=>{if(!e)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!s)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class c{constructor(e){this.status=e.status,this.text=e.responseText}}let m=(e,t,s={})=>new Promise((r,a)=>{let i=new XMLHttpRequest;i.addEventListener("load",({target:e})=>{let t=new c(e);200===t.status||"OK"===t.text?r(t):a(t)}),i.addEventListener("error",({target:e})=>{a(new c(e))}),i.open("POST",o._origin+e,!0),Object.keys(s).forEach(e=>{i.setRequestHeader(e,s[e])}),i.send(t)}),u=e=>{let t;if(!(t="string"==typeof e?document.querySelector(e):e)||"FORM"!==t.nodeName)throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return t};var d=(e,t,s,r)=>{let a=r||o._userID,i=u(s);l(a,e,t);let n=new FormData(i);return n.append("lib_version","3.2.0"),n.append("service_id",e),n.append("template_id",t),n.append("user_id",a),m("/api/v1.0/email/send-form",n)},_=s(2206),h=s.n(_),f=()=>{let e=(0,n.useRef)(),[t,s]=(0,n.useState)(!1),[a,i]=(0,n.useState)(""),o=async e=>{console.log("Validating email:",e);let t=await fetch("https://api.hunter.io/v2/email-verifier?email=".concat(encodeURIComponent(e),"&api_key=").concat(encodeURIComponent("ecb0e9e83be78e80034089b9dace920d46875349"))),s=await t.json();return console.log("Hunter.io API Response:",s),s.data&&"valid"===s.data.status},l=async t=>{t.preventDefault();let r=e.current.user_email.value;if(!await o(r)){i("Please enter a valid email address.");return}i(""),d("service_q2e38ki","template_wh8k2pe",e.current,"T2qspXNNkuHAm7BzB").then(t=>{console.log("SUCCESS!",t.text),s(!0),e.current.reset()},e=>{console.log("FAILED...",e.text)})};return(0,r.jsxs)("div",{className:h().emailFormContainer,children:[(0,r.jsx)("h1",{children:"Contact Me: Mando"}),t&&(0,r.jsx)("p",{className:h().successMessage,children:"Email sent successfully!"}),a&&(0,r.jsx)("p",{className:h().errorMessage,children:a}),(0,r.jsxs)("form",{ref:e,onSubmit:l,className:h().form,children:[(0,r.jsx)("label",{htmlFor:"email",className:h().label,children:"Email:"}),(0,r.jsx)("input",{type:"email",name:"user_email",id:"email",className:h().inputText,required:!0}),(0,r.jsx)("label",{htmlFor:"message",className:h().label,children:"Message:"}),(0,r.jsx)("textarea",{name:"message",id:"message",className:h().textarea,required:!0}),(0,r.jsx)("input",{type:"submit",value:"Send",className:h().submitButton})]})]})};let p="Texas",x=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{console.log("Fetching prediction for ".concat(p));let e="".concat("http://localhost:8080","/prediction?state=").concat(encodeURIComponent(p),"&force_refresh=").concat(t),s=await fetch(e,{timeout:1e4});if(!s.ok)throw Error("HTTP error! status: ".concat(s.status));let r=await s.json();console.log("Result for ".concat(p,":"),r);let a=r[p];if("refresh your browser"===a)return{state:p,prediction:"refresh your browser"};return{state:p,prediction:"".concat(a,"%")}}catch(s){if(console.error("Error fetching data for ".concat(p,":"),s),e<10)return await new Promise(e=>setTimeout(e,2e3)),await x(e+1,t);return{state:p,prediction:"refresh your browser"}}};async function w(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{state:t,prediction:s}=await x(0,e);return{[t]:s}}var b=!0,g=e=>{let{initialData:t}=e,[s,a]=(0,n.useState)(t);return(0,n.useEffect)(()=>{(async()=>{a(await w())})()},[]),(0,r.jsxs)("div",{className:i().stateListContainer,children:[(0,r.jsx)("h3",{children:"I donated my kidney to my father. Soda is the number one contributor to Kidney Failure."}),(0,r.jsx)("h1",{className:i().title,children:"Soda Consumption Predictions"}),(0,r.jsx)("h2",{className:i().title2,children:"in Real Time (every 24 hours)"}),(0,r.jsxs)("div",{className:i().stateListItem,children:[p,": ","refresh your browser"===s[p]?"refresh your browser":s[p]||"Loading..."]}),(0,r.jsx)("footer",{className:i().footer,children:"Powered by Gemini API"}),(0,r.jsx)(f,{})]})}},2206:function(e){e.exports={emailFormContainer:"EmailForm_emailFormContainer___DPaO",form:"EmailForm_form___CgiO",inputText:"EmailForm_inputText__1n6FS",inputEmail:"EmailForm_inputEmail__IiSOe",textarea:"EmailForm_textarea__GFtWe",submitButton:"EmailForm_submitButton__htUDh",successMessage:"EmailForm_successMessage__IzDTK",errorMessage:"EmailForm_errorMessage__EtdvC",contactTitle:"EmailForm_contactTitle__CiAvZ"}},8149:function(e){e.exports={stateListContainer:"StateList_stateListContainer__RxOkl",stateListColumns:"StateList_stateListColumns__WZfZd",stateListItem:"StateList_stateListItem__h2DIv",footer:"StateList_footer__NmHe1",title:"StateList_title__BWW2r",title2:"StateList_title2__5IbZf",specificText:"StateList_specificText__g0b7x"}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);